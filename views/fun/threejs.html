
{{extend 'layout.html'}}
<script src="../static/js/three.min.js"></script> <!-- 
<script src="{{=URL('profile','static/js','audio.min.js')}}"></script> 
 -->
<style type="text/css">

.audiojs{
	position: fixed;
	bottom: 0px;

}
#info{
	display: block;
	position: fixed;
	top:0px;
	left:0px;
	padding: 20px;
	background: black;
	color: white;
	width: 200px;
}
</style>

<div id="stuff"></div>
<div id="info">
	<center>
		this is what happens when you play with threejs while listening to Interpol
		<br><BR>
		note: if there is no music or any visuals you may need a later browser version or try a different browser
		<BR><BR>
		this is "Stella Was A Driver And She Was Always Down" by <a href="http://interpolnyc.com/news" target="_blank" >Interpol</a>
	</center>
</div>
<body>
 	<audio id="audioControls" autoplay="autoplay">
 <!--<audio id="audioControls">
 -->		<source src="{{=URL('profile','static/music', 'stella.mp3')}}">
	</audio> 
<script type="text/javascript">

// audio
/*	audiojs.events.ready(function() {
	    var as = audiojs.createAll();
	  });
*/

	var scene = new THREE.Scene(); 
	var camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);  


	
//	var geometry = new THREE.CubeGeometry(7,7,7); 
	var geometry = new THREE.CubeGeometry(-10,-10,-10); 
	var material = new THREE.MeshBasicMaterial({map:THREE.ImageUtils.loadTexture("../static/images/Lighting_1.jpg")}); 
	//	var material = new THREE.MeshBasicMaterial({map:THREE.ImageUtils.loadTexture("../static/images/RayBanWayfarer.jpg")}); 
	
	
	var cube = new THREE.Mesh(geometry, material); 
	
	var size = 0;
	
	var renderer = new THREE.WebGLRenderer(); 
	renderer.setSize(window.innerWidth, window.innerHeight); 
	//	$("#stuff").appendChild(renderer.domElement);
	document.body.appendChild(renderer.domElement);
	
	scene.add(cube);  
	camera.position.z = 5;
	camera.position.y = -1;
	
	function render() { 
		requestAnimationFrame(render);  
		cube.rotation.x += 0.003; 
		cube.rotation.y += 0.003; 
/*		if (size%100 < 5){
			cube.scale.x += 0.1;
			cube.scale.y += 0.1;
			cube.scale.z += 0.1;
		}
		else{
			cube.scale.x -= 0.1;
			cube.scale.y -= 0.1;
			cube.scale.z -= 0.1;
		}
		size += 1;
*/		renderer.render(scene, camera); 
		} 
	render();
	
</script>
</body>
